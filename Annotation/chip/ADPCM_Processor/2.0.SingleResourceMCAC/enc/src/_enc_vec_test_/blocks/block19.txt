Line number: 
[383, 404]
Comment: 
This block of code selects the data writing rate and type of law, and then writes the selected data to all channels. The rates are selected based on the 'rate' input, with a range from '16' to '40', which manipulates the bits 2 and 1 of the 'w_data' register. Similarly, the law is selected by the 'law' input, changing the least significant bit of 'w_data' accordingly. The block then iterates through each of the 32 channels in a for loop, at each iteration writing to the currently addressed channel, waiting for a clock cycle, and then clearing the write signal. The loop repeats for each channel from 0 to 31. Finally, the 'config_done' signal is set to 1, indicating successful completion.