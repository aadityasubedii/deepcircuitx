Line number: 
[344, 376]
Comment: 
This block provides a Task associated with a Wishbone read operation (read_a2p). The mechanism starts the read cycle by setting the address (i_wb_adr), cycle (i_wb_cyc), and strobe signals (i_wb_stb) at the positive edge of the clock, with the write enable (i_wb_we) signal kept low facilitating a read operation. On the second clock edge, it terminates the read cycle by turning off the cycle and strobe signals. If the check_for_truth flag is set, the data read (o_wb_dat) is assigned to a2p variable and crosschecked with the expected data (truth_data_test) provided as an input. If the data does not match, the block prints out an error message and terminates the simulation run if ERRORSTOP is defined, providing a means for testbench verification.