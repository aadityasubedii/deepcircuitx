Line number: 
[184, 218]
Comment: 
This block is a test bench for functional testing. It generates random data (rand_bit) for a total of `NUM_TESTS` times and writes it to the data_in_vec variable using the wb_write_strobe function. A conditional block checks if the written data for channel 0 and updates prev_ch0 with data_in_vec. Channel 1's frame_sync_in is set to 0 at positive clock edge. There's an inner loop that checks if the channel equals rand_ch, bits equal rand_bit, and trigger is 1. If that's the case, it sets frame_sync_in to 1, resets bits and channel, disables trigger, and recovers former data_in_vec from prev_ch0 at a positive ser_clk edge. Then the new value for data_out is stored in data_out_reg at a negative clock edge. It checks if data_out_reg does not match data_in_vec and if so, displays an error message and stops if ERRORSTOP is defined.