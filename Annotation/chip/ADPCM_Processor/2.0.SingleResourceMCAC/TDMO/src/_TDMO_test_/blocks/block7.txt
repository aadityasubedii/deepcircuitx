Line number: 
[157, 171]
Comment: 
This block of code controls a synchronous communication in a test environment. At each rising edge of the serial clock (ser_clk), the block resets and provides a frame synchronization signal, while at each falling edge, it releases the reset. The code then iterates through all the tests and channels, generating random data input. A write strobe is invoked for each channel with the generated data. The frame synchronization signal is activated only at the start of the test on the first channel, otherwise it's deactivated. Finally, the block captures data output at each falling edge of the serial clock bit by bit from the most significant to the least significant, and stores it in data_out_reg.