Line number: 
[514, 521]
Comment: 
This block assembles a word for writing, with granularity down to per-byte level based on the 'byte-enable' signals. If the most significant byte is to be written, the write data is combined with the lower 3 bytes of the existing data. If the 2 most significant bytes are to be written, they are combined with the 2 least significant bytes of the existing data. If the least significant byte is to be written, the data byte is combined with the existing upper 3 bytes of the data. The same applies to the rest of the bytes. If all 'byte-enable' signals are not asserted, the whole word of write data is used.