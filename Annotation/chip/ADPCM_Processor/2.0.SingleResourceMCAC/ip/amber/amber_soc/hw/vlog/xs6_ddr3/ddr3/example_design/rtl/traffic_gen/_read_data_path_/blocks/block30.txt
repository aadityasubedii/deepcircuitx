Line number: 
[210, 220]
Comment: 
This block of code is responsible for controlling the 'wait_bl_end' signal based on various conditions. This block uses a synchronous design as it is driven by the positive edge of a clock signal. When the first bit of 'rst_i' is set, 'wait_bl_end' is cleared. The signal is also cleared if 'force_wrcmd_timeout_cnts' reaches its maximum value. When 'gen_rdy', 'gen_valid' are high and, 'gen_bl' exceeds 16, it sets 'wait_bl_end'. And lastly, within a wait period, if the 'user_bl_cnt' is 1, 'wait_bl_end' gets reset again.