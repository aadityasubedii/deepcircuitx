Line number: 
[1116, 1142]
Comment: 
This block of code handles the state in which a control unit is performing the second execute stage of a memory transfer operation. The control unit's next address selector is set to 5, the program counter's write enable is disabled, and data access execution is enabled. The barrel shift's data selector is set to 1. Depending on the 20th bit of the instruction, it either sets the next write selector for the register bank to the second data register of the memory transfer, or enables the write data. If the 22nd bit, the 20th bit of instruction, and the 15th bit of memory transfer are the binary equivalent of 6, the system is set to load in user mode. If the 22nd bit and 20th bit of the instruction are the binary equivalent of 2, the system is set to store in user mode.