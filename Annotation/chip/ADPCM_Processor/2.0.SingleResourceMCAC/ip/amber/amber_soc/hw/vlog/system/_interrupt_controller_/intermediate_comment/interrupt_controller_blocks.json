{
    "line_num": [
        [
            241,
            302
        ],
        [
            196,
            222
        ],
        [
            172,
            190
        ],
        [
            153,
            166
        ],
        [
            139,
            151
        ],
        [
            118,
            133
        ],
        [
            116,
            116
        ],
        [
            115,
            115
        ],
        [
            111,
            113
        ]
    ],
    "blocks": [
        "always @(posedge i_clk)\n    if ( wb_read_ack || wb_start_write )\n        begin\n        `TB_DEBUG_MESSAGE\n\n        if ( wb_start_write )\n            $write(\"Write 0x%08x to   \", i_wb_dat);\n        else\n            $write(\"Read  0x%08x from \", o_wb_dat);\n\n        case ( i_wb_adr[15:0] )\n            AMBER_IC_IRQ0_STATUS:\n                $write(\" Interrupt Controller module IRQ0 Status\");\n            AMBER_IC_IRQ0_RAWSTAT:\n                $write(\" Interrupt Controller module IRQ0 Raw Status\");\n            AMBER_IC_IRQ0_ENABLESET:\n                $write(\" Interrupt Controller module IRQ0 Enable Set\");\n            AMBER_IC_IRQ0_ENABLECLR:\n                $write(\" Interrupt Controller module IRQ0 Enable Clear\");\n            AMBER_IC_FIRQ0_STATUS:\n                $write(\" Interrupt Controller module FIRQ0 Status\");\n            AMBER_IC_FIRQ0_RAWSTAT:\n                $write(\" Interrupt Controller module FIRQ0 Raw Status\");\n            AMBER_IC_FIRQ0_ENABLESET:\n                $write(\" Interrupt Controller module FIRQ0 Enable set\");\n            AMBER_IC_FIRQ0_ENABLECLR:\n                $write(\" Interrupt Controller module FIRQ0 Enable Clear\");\n            AMBER_IC_INT_SOFTSET_0:\n                $write(\" Interrupt Controller module SoftInt 0 Set\");\n            AMBER_IC_INT_SOFTCLEAR_0:\n                $write(\" Interrupt Controller module SoftInt 0 Clear\");\n            AMBER_IC_IRQ1_STATUS:\n                $write(\" Interrupt Controller module IRQ1 Status\");\n            AMBER_IC_IRQ1_RAWSTAT:\n                $write(\" Interrupt Controller module IRQ1 Raw Status\");\n            AMBER_IC_IRQ1_ENABLESET:\n                $write(\" Interrupt Controller module IRQ1 Enable Set\");\n            AMBER_IC_IRQ1_ENABLECLR:\n                $write(\" Interrupt Controller module IRQ1 Enable Clear\");\n            AMBER_IC_FIRQ1_STATUS:\n                $write(\" Interrupt Controller module FIRQ1 Status\");\n            AMBER_IC_FIRQ1_RAWSTAT:\n                $write(\" Interrupt Controller module FIRQ1 Raw Status\");\n            AMBER_IC_FIRQ1_ENABLESET:\n                $write(\" Interrupt Controller module FIRQ1 Enable set\");\n            AMBER_IC_FIRQ1_ENABLECLR:\n                $write(\" Interrupt Controller module FIRQ1 Enable Clear\");\n            AMBER_IC_INT_SOFTSET_1:\n                $write(\" Interrupt Controller module SoftInt 1 Set\");\n            AMBER_IC_INT_SOFTCLEAR_1:\n                $write(\" Interrupt Controller module SoftInt 1 Clear\");\n\n            default:\n                begin\n                $write(\" unknown Amber IC Register region\");\n                $write(\", Address 0x%08h\\n\", i_wb_adr);\n                `TB_ERROR_MESSAGE\n                end\n        endcase\n\n        $write(\", Address 0x%08h\\n\", i_wb_adr);\n        end",
        "always @( posedge i_clk )\n    if ( wb_start_read )\n        case ( i_wb_adr[15:0] )\n\n            AMBER_IC_IRQ0_ENABLESET:    wb_rdata32 <= irq0_enable_reg;\n            AMBER_IC_FIRQ0_ENABLESET:   wb_rdata32 <= firq0_enable_reg;\n            AMBER_IC_IRQ0_RAWSTAT:      wb_rdata32 <= raw_interrupts;\n            AMBER_IC_IRQ0_STATUS:       wb_rdata32 <= irq0_interrupts;\n            AMBER_IC_FIRQ0_RAWSTAT:     wb_rdata32 <= raw_interrupts;\n            AMBER_IC_FIRQ0_STATUS:      wb_rdata32 <= firq0_interrupts;\n\n            AMBER_IC_INT_SOFTSET_0:     wb_rdata32 <= {31'd0, softint_0_reg};\n            AMBER_IC_INT_SOFTCLEAR_0:   wb_rdata32 <= {31'd0, softint_0_reg};\n\n            AMBER_IC_IRQ1_ENABLESET:    wb_rdata32 <= irq1_enable_reg;\n            AMBER_IC_FIRQ1_ENABLESET:   wb_rdata32 <= firq1_enable_reg;\n            AMBER_IC_IRQ1_RAWSTAT:      wb_rdata32 <= raw_interrupts;\n            AMBER_IC_IRQ1_STATUS:       wb_rdata32 <= irq1_interrupts;\n            AMBER_IC_FIRQ1_RAWSTAT:     wb_rdata32 <= raw_interrupts;\n            AMBER_IC_FIRQ1_STATUS:      wb_rdata32 <= firq1_interrupts;\n\n            AMBER_IC_INT_SOFTSET_1:     wb_rdata32 <= {31'd0, softint_1_reg};\n            AMBER_IC_INT_SOFTCLEAR_1:   wb_rdata32 <= {31'd0, softint_1_reg};\n\n            default:                    wb_rdata32 <= 32'h22334455;\n\n        endcase",
        "always @( posedge i_clk )\n    if ( wb_start_write )\n        case ( i_wb_adr[15:0] )\n            AMBER_IC_IRQ0_ENABLESET:  irq0_enable_reg  <=  irq0_enable_reg  | ( i_wb_dat);\n            AMBER_IC_IRQ0_ENABLECLR:  irq0_enable_reg  <=  irq0_enable_reg  & (~i_wb_dat);\n            AMBER_IC_FIRQ0_ENABLESET: firq0_enable_reg <=  firq0_enable_reg | ( i_wb_dat);\n            AMBER_IC_FIRQ0_ENABLECLR: firq0_enable_reg <=  firq0_enable_reg & (~i_wb_dat);\n\n            AMBER_IC_INT_SOFTSET_0:   softint_0_reg    <=  softint_0_reg   | ( i_wb_dat[0]);\n            AMBER_IC_INT_SOFTCLEAR_0: softint_0_reg    <=  softint_0_reg   & (~i_wb_dat[0]);\n\n            AMBER_IC_IRQ1_ENABLESET:  irq1_enable_reg  <=  irq1_enable_reg  | ( i_wb_dat);\n            AMBER_IC_IRQ1_ENABLECLR:  irq1_enable_reg  <=  irq1_enable_reg  & (~i_wb_dat);\n            AMBER_IC_FIRQ1_ENABLESET: firq1_enable_reg <=  firq1_enable_reg | ( i_wb_dat);\n            AMBER_IC_FIRQ1_ENABLECLR: firq1_enable_reg <=  firq1_enable_reg & (~i_wb_dat);\n\n            AMBER_IC_INT_SOFTSET_1:   softint_1_reg    <=  softint_1_reg   | ( i_wb_dat[0]);\n            AMBER_IC_INT_SOFTCLEAR_1: softint_1_reg    <=  softint_1_reg   & (~i_wb_dat[0]);\n        endcase",
        "assign irq0_interrupts  = {raw_interrupts[31:1], softint_0_reg} & irq0_enable_reg;\nassign firq0_interrupts =  raw_interrupts                       & firq0_enable_reg;\nassign irq1_interrupts  = {raw_interrupts[31:1], softint_1_reg} & irq1_enable_reg;\nassign firq1_interrupts  = raw_interrupts                       & firq1_enable_reg;\n\n\n\nassign irq_0  = |{irq0_interrupts,  i_test_reg_irq};\nassign firq_0 = |{firq0_interrupts, i_test_reg_firq};\nassign irq_1  = |irq1_interrupts;\nassign firq_1 = |firq1_interrupts;\n\nassign o_irq  = irq_0  | irq_1;\nassign o_firq = firq_0 | firq_1;",
        "assign raw_interrupts =  {23'd0,\n                          i_ethmac_int,             \n\n                          i_tm_timer_int[2],        \n                          i_tm_timer_int[1],        \n                          i_tm_timer_int[0],        \n                          1'd0,\n\n                          1'd0,\n                          i_uart1_int,              \n                          i_uart0_int,              \n                          1'd0                      \n                         };                         ",
        "generate\nif (WB_DWIDTH == 128)\n    begin : wb128\n    assign wb_wdata32   = i_wb_adr[3:2] == 2'd3 ? i_wb_dat[127:96] :\n                          i_wb_adr[3:2] == 2'd2 ? i_wb_dat[ 95:64] :\n                          i_wb_adr[3:2] == 2'd1 ? i_wb_dat[ 63:32] :\n                                                  i_wb_dat[ 31: 0] ;\n\n    assign o_wb_dat    = {4{wb_rdata32}};\n    end\nelse\n    begin : wb32\n    assign wb_wdata32  = i_wb_dat;\n    assign o_wb_dat    = wb_rdata32;\n    end\nendgenerate",
        "assign o_wb_ack = i_wb_stb && ( wb_start_write || wb_start_read_d1 );",
        "assign o_wb_err = 1'd0;",
        "always @( posedge i_clk )\n    wb_start_read_d1 <= wb_start_read;\n"
    ]
}