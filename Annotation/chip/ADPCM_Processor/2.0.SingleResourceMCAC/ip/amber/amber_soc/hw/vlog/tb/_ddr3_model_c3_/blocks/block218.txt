Line number: 
[716, 750]
Comment: 
This block of code is a function to erase selected memory banks. The function works by taking an input array of banks. If the MAX_MEM flag is defined, the function goes through each bank, and if the bank in question is flagged for erasure (`banks[bank] === 1'b1`), the bank is closed and re-opened, effectively erasing its contents. If the MAX_MEM flag is not set, the function instead iterates over the currently used memory, copying the address and contents of any banks not selected for erasure to a new address and memory, before marking the old address and memory as indeterminate. The total amount of memory used is updated accordingly.