Line number: 
[351, 418]
Comment: 
This block manages transitions between different states of an operation, driving variables `load_shift_n` and `addr_data_sel_n`, and determining the operation's `nextstate`. Starting from a `READY` state, checks like `cmd_valid` and some bit count conditions, toggle `load_shift_n` and transition the operation to various phases like `DECIDE`, `ADDR_PHASE`, `ADDR_TO_DATA_GAP`, `DATA_PHASE`, and `ALMOST_READY`. Serveral other states serve as gaps or transitions between these main phases. This state machine makes use of Verilog's `always` and `case` constructs to ensure that only valid state transitions occur.