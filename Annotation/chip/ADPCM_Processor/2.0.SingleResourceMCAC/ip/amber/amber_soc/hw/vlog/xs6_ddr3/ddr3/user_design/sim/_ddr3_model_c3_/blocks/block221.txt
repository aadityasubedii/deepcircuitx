Line number: 
[653, 679]
Comment: 
This block of code defines a memory_write task in a Verilog system, intended to write data to a specific address within a memory bank. It accepts inputs defining the bank, row, and column for the memory address, as well as the data to be written. Depending upon whether the MAX_MEM macro is defined, the address is formulated in two different ways. If MAX_MEM is defined, address calculation consists of row and column locations divided by the Block_Line(BL_MAX), and data is written to a file. In absence of MAX_MEM definition, address calculation involves a combination of bank, row, and column values divided by BL_MAX and the data is either written to an existing address or a new address is created if room allows in the memory. If the memory is full, the system will print an error message, and halt the operation if STOP_ON_ERROR is true.