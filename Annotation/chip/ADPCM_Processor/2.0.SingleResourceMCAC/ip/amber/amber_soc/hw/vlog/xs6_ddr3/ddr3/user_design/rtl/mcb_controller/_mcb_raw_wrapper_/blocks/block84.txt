Line number: 
[1159, 1171]
Comment: 
This block of code controls the entry into self-refresh mode for a system. On the rising edge of the user interface clock (ui_clk), if the system reset (sys_rst) is active, the entries for self-refresh mode for the current and next two cycles are reset to 0. If the system reset is not active, these entries adopt the value of the self-refresh enter signal from the current cycle, and the two preceding cycles respectively.