assign buf_filled = wr_capture_ptr - rd_ptr;
               