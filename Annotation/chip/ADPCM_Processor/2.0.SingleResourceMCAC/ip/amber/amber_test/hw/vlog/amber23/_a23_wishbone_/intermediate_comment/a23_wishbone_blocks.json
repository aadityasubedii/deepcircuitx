{
    "line_num": [
        [
            304,
            304
        ],
        [
            294,
            299
        ],
        [
            291,
            299
        ],
        [
            169,
            283
        ],
        [
            166,
            166
        ],
        [
            161,
            165
        ],
        [
            148,
            154
        ]
    ],
    "blocks": [
        "",
        "assign xAS_STATE  = wishbone_st == WB_IDLE       ? \"WB_IDLE\"       :\n                    wishbone_st == WB_BURST1     ? \"WB_BURST1\"     :\n                    wishbone_st == WB_BURST2     ? \"WB_BURST2\"     :\n                    wishbone_st == WB_BURST3     ? \"WB_BURST3\"     :\n                    wishbone_st == WB_WAIT_ACK   ? \"WB_WAIT_ACK\"   :\n                                                      \"UNKNOWN\"       ;",
        "wire    [(14*8)-1:0]   xAS_STATE;\n\n\nassign xAS_STATE  = wishbone_st == WB_IDLE       ? \"WB_IDLE\"       :\n                    wishbone_st == WB_BURST1     ? \"WB_BURST1\"     :\n                    wishbone_st == WB_BURST2     ? \"WB_BURST2\"     :\n                    wishbone_st == WB_BURST3     ? \"WB_BURST3\"     :\n                    wishbone_st == WB_WAIT_ACK   ? \"WB_WAIT_ACK\"   :\n                                                      \"UNKNOWN\"       ;",
        "always @( posedge i_clk )\n    case ( wishbone_st )\n        WB_IDLE :\n            begin \n                \n            if ( start_access )\n                begin\n                o_wb_stb            <= 1'd1; \n                o_wb_cyc            <= 1'd1; \n                o_wb_sel            <= byte_enable;\n                end\n            else if ( !wait_write_ack )\n                begin\n                o_wb_stb            <= 1'd0;\n                \n                \n                \n                o_wb_cyc            <= exclusive_access;\n                end\n\n            \n            servicing_cache <= cache_read_request && !wait_write_ack;\n\n            if ( wait_write_ack )\n                begin\n                \n                wishbone_st      <= WB_WAIT_ACK;\n                end  \n            \n            else if ( cache_read_request )\n                begin\n                wishbone_st         <= WB_BURST1;\n                exclusive_access    <= 1'd0;\n                end                    \n            else if ( core_read_request )\n                begin\n                wishbone_st         <= WB_WAIT_ACK;\n                exclusive_access    <= i_exclusive;\n                end                    \n           \n           \n           \n            else if ( core_write_request )\n                exclusive_access <= i_exclusive;\n\n                            \n            if ( start_access )\n                begin\n                if (wbuf_busy_r)\n                    begin\n                    o_wb_we              <= 1'd1;\n                    o_wb_adr[31:2]       <= wbuf_addr_r[31:2];\n                    end\n                else\n                    begin\n                    o_wb_we              <= core_write_request || cache_write_request;\n                    \n                    o_wb_adr[31:2]       <= i_address[31:2];\n                    end\n                    \n                o_wb_adr[1:0]        <= byte_enable == 4'b0001 ? 2'd0 :\n                                        byte_enable == 4'b0010 ? 2'd1 :\n                                        byte_enable == 4'b0100 ? 2'd2 :\n                                        byte_enable == 4'b1000 ? 2'd3 :\n                                       \n                                        byte_enable == 4'b0011 ? 2'd0 :\n                                        byte_enable == 4'b1100 ? 2'd2 :\n                                       \n                                                                 2'd0 ;\n                end\n            end\n                    \n\n        \n        WB_BURST1:  \n            if ( i_wb_ack )\n                begin\n                \n                o_wb_adr[3:2]   <= o_wb_adr[3:2] + 1'd1;\n                wishbone_st     <= WB_BURST2;\n                end\n            \n            \n        \n        WB_BURST2:  \n            if ( i_wb_ack )\n                begin\n                \n                o_wb_adr[3:2]   <= o_wb_adr[3:2] + 1'd1;\n                wishbone_st     <= WB_BURST3;\n                end\n            \n            \n        \n        WB_BURST3:  \n            if ( i_wb_ack )\n                begin\n                \n                o_wb_adr[3:2]   <= o_wb_adr[3:2] + 1'd1;\n                wishbone_st     <= WB_WAIT_ACK;\n                end\n\n\n        \n        WB_WAIT_ACK:   \n            if ( i_wb_ack )\n                begin\n                wishbone_st         <= WB_IDLE;\n                o_wb_stb            <= 1'd0; \n                o_wb_cyc            <= exclusive_access; \n                o_wb_we             <= 1'd0;\n                servicing_cache     <= 1'd0;\n                end\n                         \n    endcase",
        "assign wait_write_ack = o_wb_stb && o_wb_we && !i_wb_ack;",
        "always @( posedge i_clk )\n    if ( start_access )\n        o_wb_dat <= i_write_data;\n\n",
        "always @( posedge i_clk )\n    if ( wb_wait && !wbuf_busy_r && (core_write_request || cache_write_request) )\n        begin\n        wbuf_addr_r <= i_address;\n        wbuf_sel_r  <= i_byte_enable;\n        wbuf_busy_r <= 1'd1;\n        end"
    ]
}