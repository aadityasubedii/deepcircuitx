Line number: 
[416, 504]
Comment: 
This code block is responsible for loading main memory from a defined file. At the rising edge of the system reset signal, the code block enters a loop and reads each line from the specified main memory file. The `fgets` function is used to retrieve the next line of the file, incrementing the line counter, and aligning the fetched line using the `align_line` function. The aligned line is then conditioned to not contain the ASCII '//', indicating a comment, and not start with a non-valid character, other than '@'. If it passes the conditions, the block translates 32 bits of hexadecimal characters into data and addresses. These are then stored into the DDR3 model memory in case of Xilinx FPGA presence; otherwise, it's stored into a regular RAM. The operation keeps cycling until the end of the file, thus ultimately loading all values into the memory.