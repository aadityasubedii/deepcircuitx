Line number: 
[841, 884]
Comment: 
This block of code is a function named 'pick_way' which returns a bitmask indicating a particular way or choice as described by the input 'valid_bits'. If a particular bit in the 'valid_bits' input is '0', the corresponding location in the 'pick_way' bitmask is set (from bit 0 to 7). If all bits in 'valid_bits' are '1', the function uses a random number (from 0 to 6) referenced from 'random_num' input to decide which bit in the 'pick_way' to set, providing a sort of randomness in the absence of an available choice.