Line number: 
[152, 165]
Comment: 
The block of code manages a conditional write process based on write requests and buffer status of the module. The operation of the module is dictated by the rising edge of the 'i_clk' signal. If 'i_cmd_full' is not flagged (signaling that the buffer is not full), it enables the 'wr_en_r' signal by asserting either 'write_request' or the 'write_buf_r' signal. The write mask 'o_wr_mask' is then determined based on the value of 'wb_adr[3:2]', which partitions the mask across three scenarios and provides a distinct fourth scenario. In each scenario, toggling is achieved through bitwise negation of 'wb_sel'. Furthermore, it arranges 'wb_dat', duplicating this four times, and assigns it to the 'o_wr_data' signal.