Line number: 
[139, 149]
Comment: 
The block of code manages the flag (WillSendControlFrame) determining whether to send a control frame or not. Upon a positive edge of the 'MTxClk' clock signal or 'TxReset', the flag 'WillSendControlFrame' is reset to 0 if 'TxReset' is active or if 'TxCtrlEndFrm' and 'CtrlMux' are both active. If on the other hand, 'TPauseRq' and 'TxFlow' are both active, 'WillSendControlFrame' is set to 1, indicating a control frame will be sent. Delays specified with the '#Tp' are introduced in every assignment to 'WillSendControlFrame'.