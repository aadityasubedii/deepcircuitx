Line number: 
[69, 98]
Comment: 
This block is a state machine controlling the transition between different states in a UI handling system. The UI has three menus (`menu1`, `menu2`, and `menu3`) that users interact with. According to the signals (`record`, `no_touch`, `stop`, `end_progress_bar`, and `record_new`), it transitions from one menu to another, or waits in the current menu waiting for an event to happen. For example, it changes from `menu1` to `menu1_wait` when `record` is true; from `menu1_wait` to `menu2` on `no_touch`, and so forth. The default state is `menu1` if no other conditions are met.