Line number: 
[370, 374]
Comment: 
This block is responsible for updating the timing marker for the upper address whenever there's a change in adv_n_in or addr[ADDR_BITS-1:4]. It checks the negation of adv_n_in in its conditional statement. The system's real-time clock is captured into tm_upper_addr when adv_n_in is driven low, metaphorically lagging address advancement. This provides a precise timestamp for each update, facilitating subsequent analysis or debugging activities.