Line number: 
[1211, 1231]
Comment: 
This block of code controls output based on a ready signal and the state of the 'filtnum' variable under the rising edge of a clock pulse. Depending on the value of 'filtnum', 'size' and 'revamp' registers are updated respectively. When the ready signal goes high, 'offset' register is incremented by one. If 'filtnum' equals 6 or 7, 'size' is set to 1 and 'revamp' gets assigned the maximum allowable 10-bit value (0x1FF). For all other 'filtnum' values, 'size' gets value 4 and 'revamp' is set to 0x0DF.