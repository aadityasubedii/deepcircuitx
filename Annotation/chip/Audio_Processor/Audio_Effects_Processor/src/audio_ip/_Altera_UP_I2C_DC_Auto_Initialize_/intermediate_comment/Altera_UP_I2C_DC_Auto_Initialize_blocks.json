{
    "line_num": [
        [
            330,
            359
        ],
        [
            328,
            328
        ],
        [
            326,
            326
        ],
        [
            322,
            322
        ],
        [
            310,
            316
        ],
        [
            299,
            307
        ],
        [
            289,
            297
        ],
        [
            279,
            287
        ],
        [
            263,
            277
        ],
        [
            247,
            261
        ],
        [
            168,
            240
        ],
        [
            160,
            166
        ]
    ],
    "blocks": [
        "always @(*)\nbegin\n\tcase (rom_address_counter)\n\t0\t\t:\trom_data\t<=\t{10'h201, DC_ROW_START};\n\t1\t\t:\trom_data\t<=\t{10'h002, DC_COLUMN_START};\n\t2\t\t:\trom_data\t<=\t{10'h003, DC_ROW_WIDTH};\n\t3\t\t:\trom_data\t<=\t{10'h004, DC_COLUMN_WIDTH};\n\t4\t\t:\trom_data\t<=\t{10'h005, DC_H_BLANK_B};\n\t5\t\t:\trom_data\t<=\t{10'h006, DC_V_BLANK_B};\n\t6\t\t:\trom_data\t<=\t{10'h007, DC_H_BLANK_A};\n\t7\t\t:\trom_data\t<=\t{10'h008, DC_V_BLANK_A};\n\t8\t\t:\trom_data\t<=\t{10'h009, DC_SHUTTER_WIDTH};\n\t9\t\t:\trom_data\t<=\t{10'h00A, DC_ROW_SPEED};\n\t10\t\t:\trom_data\t<=\t{10'h00B, DC_EXTRA_DELAY};\n\t11\t\t:\trom_data\t<=\t{10'h00C, DC_SHUTTER_DELAY};\n\t12\t\t:\trom_data\t<=\t{10'h10D, DC_RESET};\n\t13\t\t:\trom_data\t<=\t{10'h21F, DC_FRAME_VALID};\n\t14\t\t:\trom_data\t<=\t{10'h020, DC_READ_MODE_B};\n\t15\t\t:\trom_data\t<=\t{10'h021, DC_READ_MODE_A};\n\t16\t\t:\trom_data\t<=\t{10'h022, DC_DARK_COL_ROW};\n\t17\t\t:\trom_data\t<=\t{10'h123, DC_FLASH};\n\t18\t\t:\trom_data\t<=\t{10'h22B, DC_GREEN_GAIN_1};\n\t19\t\t:\trom_data\t<=\t{10'h02C, DC_BLUE_GAIN};\n\t20\t\t:\trom_data\t<=\t{10'h02D, DC_RED_GAIN};\n\t21\t\t:\trom_data\t<=\t{10'h02E, DC_GREEN_GAIN_2};\n\t22\t\t:\trom_data\t<=\t{10'h12F, DC_GLOBAL_GAIN};\n\t23\t\t:\trom_data\t<=\t{10'h3C8, DC_CONTEXT_CTRL};\n\tdefault\t:\trom_data\t<=\t26'h1000000;\n\tendcase\nend",
        "assign finished_auto_init = (rom_address_counter == MAX_ROM_ADDRESS);",
        "assign change_state\t= transfer_complete & transfer_data;",
        "assign auto_init_complete = (s_i2c_auto_init == AUTO_STATE_8_DONE);",
        "always @(posedge clk)\nbegin\n\tif (reset == 1'b1)\n\t\trom_address_counter <= MIN_ROM_ADDRESS;\n\telse if (s_i2c_auto_init == AUTO_STATE_7_INCREASE_COUNTER)\n\t\trom_address_counter <= rom_address_counter + 5'h01;\nend",
        "always @(posedge clk)\nbegin\n\tif (reset == 1'b1)\n\t\tauto_init_error <= 1'b0;\n\telse if (clear_error == 1'b1)\n\t\tauto_init_error <= 1'b0;\n\telse if ((s_i2c_auto_init == AUTO_STATE_7_INCREASE_COUNTER) & ack)\n\t\tauto_init_error <= 1'b1;\nend",
        "always @(posedge clk)\nbegin\n\tif (reset == 1'b1)\n\t\tsend_stop_bit <= 1'b0;\n\telse if (transfer_complete == 1'b1)\n\t\tsend_stop_bit <= 1'b0;\n\telse if (s_i2c_auto_init == AUTO_STATE_6_SEND_STOP_BIT)\n\t\tsend_stop_bit <= 1'b1;\nend",
        "always @(posedge clk)\nbegin\n\tif (reset == 1'b1)\n\t\tsend_start_bit <= 1'b0;\n\telse if (transfer_complete == 1'b1)\n\t\tsend_start_bit <= 1'b0;\n\telse if (s_i2c_auto_init == AUTO_STATE_1_SEND_START_BIT)\n\t\tsend_start_bit <= 1'b1;\nend",
        "always @(posedge clk)\nbegin\n\tif (reset == 1'b1) \n\t\ttransfer_data <= 1'b0;\n\telse if (transfer_complete == 1'b1)\n\t\ttransfer_data <= 1'b0;\n\telse if (s_i2c_auto_init == AUTO_STATE_1_SEND_START_BIT)\n\t\ttransfer_data <= 1'b1;\n\telse if (s_i2c_auto_init == AUTO_STATE_2_TRANSFER_BYTE_0)\n\t\ttransfer_data <= 1'b1;\n\telse if (s_i2c_auto_init == AUTO_STATE_3_TRANSFER_BYTE_1)\n\t\ttransfer_data <= 1'b1;\n\telse if (s_i2c_auto_init == AUTO_STATE_4_TRANSFER_BYTE_2)\n\t\ttransfer_data <= 1'b1;\nend",
        "always @(posedge clk)\nbegin\n\tif (reset == 1'b1)\n\t\tdata_out <= 8'h00;\n\telse if (s_i2c_auto_init == AUTO_STATE_1_SEND_START_BIT)\n\t\tdata_out <= 8'hBA;\n\telse if (s_i2c_auto_init == AUTO_STATE_2_TRANSFER_BYTE_0)\n\t\tdata_out <= rom_data[23:16];\n\telse if (s_i2c_auto_init == AUTO_STATE_0_CHECK_STATUS)\n\t\tdata_out <= rom_data[15: 8];\n\telse if (s_i2c_auto_init == AUTO_STATE_3_TRANSFER_BYTE_1)\n\t\tdata_out <= rom_data[15: 8];\n\telse if (s_i2c_auto_init == AUTO_STATE_4_TRANSFER_BYTE_2)\n\t\tdata_out <= rom_data[ 7: 0];\nend",
        "always @(*)\nbegin\n\t\n\tns_i2c_auto_init = AUTO_STATE_0_CHECK_STATUS;\n\n    case (s_i2c_auto_init)\n\tAUTO_STATE_0_CHECK_STATUS:\n\t\tbegin\n\t\t\tif (finished_auto_init == 1'b1)\n\t\t\t\tns_i2c_auto_init = AUTO_STATE_8_DONE;\n\t\t\telse if (rom_data[25] == 1'b1)\n\t\t\t\tns_i2c_auto_init = AUTO_STATE_1_SEND_START_BIT;\n\t\t\telse\n\t\t\t\tns_i2c_auto_init = AUTO_STATE_3_TRANSFER_BYTE_1;\n\t\tend\n\tAUTO_STATE_1_SEND_START_BIT:\n\t\tbegin\n\t\t\tif (change_state == 1'b1)\n\t\t\t\tns_i2c_auto_init = AUTO_STATE_2_TRANSFER_BYTE_0;\n\t\t\telse\n\t\t\t\tns_i2c_auto_init = AUTO_STATE_1_SEND_START_BIT;\n\t\tend\n\tAUTO_STATE_2_TRANSFER_BYTE_0:\n\t\tbegin\n\t\t\tif (change_state == 1'b1)\n\t\t\t\tns_i2c_auto_init = AUTO_STATE_3_TRANSFER_BYTE_1;\n\t\t\telse\n\t\t\t\tns_i2c_auto_init = AUTO_STATE_2_TRANSFER_BYTE_0;\n\t\tend\n\tAUTO_STATE_3_TRANSFER_BYTE_1:\n\t\tbegin\n\t\t\tif (change_state == 1'b1)\n\t\t\t\tns_i2c_auto_init = AUTO_STATE_4_TRANSFER_BYTE_2;\n\t\t\telse\n\t\t\t\tns_i2c_auto_init = AUTO_STATE_3_TRANSFER_BYTE_1;\n\t\tend\n\tAUTO_STATE_4_TRANSFER_BYTE_2:\n\t\tbegin\n\t\t\tif ((change_state == 1'b1) && (rom_data[24] == 1'b1))\n\t\t\t\tns_i2c_auto_init = AUTO_STATE_5_WAIT;\n\t\t\telse if (change_state == 1'b1)\n\t\t\t\tns_i2c_auto_init = AUTO_STATE_7_INCREASE_COUNTER;\n\t\t\telse\n\t\t\t\tns_i2c_auto_init = AUTO_STATE_4_TRANSFER_BYTE_2;\n\t\tend\n\tAUTO_STATE_5_WAIT:\n\t\tbegin\n\t\t\tif (transfer_complete == 1'b0)\n\t\t\t\tns_i2c_auto_init = AUTO_STATE_6_SEND_STOP_BIT;\n\t\t\telse\n\t\t\t\tns_i2c_auto_init = AUTO_STATE_5_WAIT;\n\t\tend\n\tAUTO_STATE_6_SEND_STOP_BIT:\n\t\tbegin\n\t\t\tif (transfer_complete == 1'b1)\n\t\t\t\tns_i2c_auto_init = AUTO_STATE_7_INCREASE_COUNTER;\n\t\t\telse\n\t\t\t\tns_i2c_auto_init = AUTO_STATE_6_SEND_STOP_BIT;\n\t\tend\n\tAUTO_STATE_7_INCREASE_COUNTER:\n\t\tbegin\n\t\t\tns_i2c_auto_init = AUTO_STATE_0_CHECK_STATUS;\n\t\tend\n\tAUTO_STATE_8_DONE:\n\t\tbegin\n\t\t\tns_i2c_auto_init = AUTO_STATE_8_DONE;\n\t\tend\n\tdefault:\n\t\tbegin\n\t\t\tns_i2c_auto_init = AUTO_STATE_0_CHECK_STATUS;\n\t\tend\n\tendcase\nend",
        "always @(posedge clk)\nbegin\n\tif (reset == 1'b1)\n\t\ts_i2c_auto_init <= AUTO_STATE_0_CHECK_STATUS;\n\telse\n\t\ts_i2c_auto_init <= ns_i2c_auto_init;\nend"
    ]
}