{
    "line_num": [
        [
            39,
            305
        ],
        [
            26,
            37
        ]
    ],
    "blocks": [
        "\talways @(posedge Sclk or posedge Start)\n\tbegin\n\t\tif (Start == 1'b1)\n\t\t\tnext_state = Startup;\n\t\telse\n\t\tbegin\n\t\tcase (pr_state)\n\t\t\tStartup:\tbegin \n\t\t\t\t\t\t\trj_wr_addr = 4'd0;\n\t\t\t\t\t\t\tcoeff_wr_addr = 9'd0;\n\t\t\t\t\t\t\tdata_wr_addr = 8'd0;\n\t\t\t\t\t\t\trj_en = 1'b0;\n\t\t\t\t\t\t\tcoeff_en = 1'b0;\n\t\t\t\t\t\t\tdata_en = 1'b0;\n\t\t\t\t\t\t\tClear = 1'b1;\n\t\t\t\t\t\t\tcompute_enable = 1'b0;\n\t\t\t\t\t\t\tInReady = 1'b0;\n\t\t\t\t\t\t\tsleep_flag = 1'b0;\n\t\t\t\t\t\t\tnext_state = Wait_rj;\n\t\t\t\t\t\t\treal_count = 16'd0;\n\t\t\t\t\t\t\trj_count = 4'd0;\n\t\t\t\t\t\t\tcoeff_count = 9'd0;\n\t\t\t\t\t\t\tdata_count = 8'd0;\n\t\t\t\t\t\tend\n\t\t\t\n\t\t\tWait_rj:\tbegin\n\t\t\t\t\t\t\trj_wr_addr = 4'd0;\n\t\t\t\t\t\t\tcoeff_wr_addr = 9'd0;\n\t\t\t\t\t\t\tdata_wr_addr = 8'd0;\n\t\t\t\t\t\t\trj_en = 1'b0;\n\t\t\t\t\t\t\tcoeff_en = 1'b0;\n\t\t\t\t\t\t\tdata_en = 1'b0;\n\t\t\t\t\t\t\tClear = 1'b0;\n\t\t\t\t\t\t\tcompute_enable = 1'b0;\n\t\t\t\t\t\t\tInReady = 1'b1;\n\t\t\t\t\t\t\tsleep_flag = 1'b0;\n\t\t\t\t\t\t\trj_count = 4'd0;\n\t\t\t\t\t\t\tcoeff_count = 9'd0;\n\t\t\t\t\t\t\tdata_count = 8'd0;\n\t\t\t\t\t\t\ttaken = 1'b0;\n\t\t\t\t\t\t\tif (Frame == 1'b1)\n\t\t\t\t\t\t\t\tnext_state = Read_rj;\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tnext_state = Wait_rj;\n\t\t\t\t\t\tend\n\t\t\t\t\t\t\n\t\t\tRead_rj:\tbegin\n\t\t\t\t\t\t\tcoeff_wr_addr = 9'd0;\n\t\t\t\t\t\t\tdata_wr_addr = 8'd0;\n\t\t\t\t\t\t\tcoeff_en = 1'b0;\n\t\t\t\t\t\t\tdata_en = 1'b0;\n\t\t\t\t\t\t\tClear = 1'b0;\n\t\t\t\t\t\t\tcompute_enable = 1'b0;\n\t\t\t\t\t\t\tInReady = 1'b1;\n\t\t\t\t\t\t\tsleep_flag = 1'b0;\n\t\t\t\t\t\t\tcoeff_count = 9'd0;\n\t\t\t\t\t\t\tdata_count = 8'd0;\n\t\t\t\t\t\t\tif (input_rdy_flag == 1'b1 && taken == 1'b0)\n\t\t\t\t\t\t\tbegin\n\t\t\t\t\t\t\t\tif (rj_count < 5'd16)\n\t\t\t\t\t\t\t\tbegin\n\t\t\t\t\t\t\t\t\trj_en = 1'b1;\n\t\t\t\t\t\t\t\t\trj_wr_addr = rj_count;\n\t\t\t\t\t\t\t\t\trj_count = rj_count + 1'b1;\n\t\t\t\t\t\t\t\t\tnext_state = Read_rj;\n\t\t\t\t\t\t\t\t\ttaken = 1'b1;\n\t\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\t\tif (rj_count == 5'd16)\n\t\t\t\t\t\t\t\tbegin\n\t\t\t\t\t\t\t\t\tnext_state = Wait_coeff;\n\t\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tnext_state = Read_rj;\n\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\telse if (input_rdy_flag == 1'b0)\n\t\t\t\t\t\t\tbegin\n\t\t\t\t\t\t\t\ttaken = 1'b0;\n\t\t\t\t\t\t\t\trj_en = 1'b0;\n\t\t\t\t\t\t\t\trj_wr_addr = rj_wr_addr;\n\t\t\t\t\t\t\t\tnext_state = Read_rj;\n\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tnext_state = Read_rj;\n\t\t\t\t\t\tend\n\t\t\t\n\t\t\tWait_coeff: \n\t\t\t\t\t\t\tbegin\n\t\t\t\t\t\t\t\trj_wr_addr = 4'd0;\n\t\t\t\t\t\t\t\tcoeff_wr_addr = 9'd0;\n\t\t\t\t\t\t\t\tdata_wr_addr = 8'd0;\n\t\t\t\t\t\t\t\trj_en = 1'b0;\n\t\t\t\t\t\t\t\tcoeff_en = 1'b0;\n\t\t\t\t\t\t\t\tdata_en = 1'b0;\n\t\t\t\t\t\t\t\tClear = 1'b0;\n\t\t\t\t\t\t\t\tcompute_enable = 1'b0;\n\t\t\t\t\t\t\t\tInReady = 1'b1;\n\t\t\t\t\t\t\t\tsleep_flag = 1'b0;\n\t\t\t\t\t\t\t\tcoeff_count = 9'd0;\n\t\t\t\t\t\t\t\tdata_count = 8'd0;\n\t\t\t\t\t\t\t\tif (Frame == 1'b1)\n\t\t\t\t\t\t\t\t\tnext_state = Read_coeff;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tnext_state = Wait_coeff;\n\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\n\t\t\tRead_coeff: begin\n\t\t\t\t\t\t\t\trj_wr_addr = 4'd0;\n\t\t\t\t\t\t\t\tdata_wr_addr = 8'd0;\n\t\t\t\t\t\t\t\trj_en = 1'b0;\n\t\t\t\t\t\t\t\tdata_en = 1'b0;\n\t\t\t\t\t\t\t\tClear = 1'b0;\n\t\t\t\t\t\t\t\tcompute_enable = 1'b0;\n\t\t\t\t\t\t\t\tInReady = 1'b1;\n\t\t\t\t\t\t\t\tsleep_flag = 1'b0;\n\t\t\t\t\t\t\t\tdata_count = 8'd0;\n\t\t\t\t\t\t\t\tif (input_rdy_flag == 1'b1 && taken == 1'b0)\n\t\t\t\t\t\t\t\tbegin\n\t\t\t\t\t\t\t\t\tif (coeff_count < 10'h200)\n\t\t\t\t\t\t\t\t\tbegin\n\t\t\t\t\t\t\t\t\t\tcoeff_en = 1'b1;\n\t\t\t\t\t\t\t\t\t\tcoeff_wr_addr = coeff_count;\n\t\t\t\t\t\t\t\t\t\tcoeff_count = coeff_count + 1'b1;\n\t\t\t\t\t\t\t\t\t\tnext_state = Read_coeff;\n\t\t\t\t\t\t\t\t\t\ttaken = 1'b1;\n\t\t\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\t\t\tif (coeff_count == 10'h200)\n\t\t\t\t\t\t\t\t\t\tnext_state = Wait_input;\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\tnext_state = Read_coeff;\n\t\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\t\telse if (input_rdy_flag == 1'b0)\n\t\t\t\t\t\t\t\tbegin\n\t\t\t\t\t\t\t\t\ttaken = 1'b0;\n\t\t\t\t\t\t\t\t\tcoeff_en = 1'b0;\n\t\t\t\t\t\t\t\t\tcoeff_wr_addr = coeff_wr_addr;\n\t\t\t\t\t\t\t\t\tnext_state = Read_coeff;\n\t\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tnext_state = Read_coeff;\n\t\t\t\t\t\t\tend\n\n\t\t\tWait_input: begin\n\t\t\t\t\t\t\t\trj_wr_addr = 4'd0;\n\t\t\t\t\t\t\t\tcoeff_wr_addr = 9'd0;\n\t\t\t\t\t\t\t\tdata_wr_addr = 8'd0;\n\t\t\t\t\t\t\t\trj_en = 1'b0;\n\t\t\t\t\t\t\t\tcoeff_en = 1'b0;\n\t\t\t\t\t\t\t\tdata_en = 1'b0;\n\t\t\t\t\t\t\t\tClear = 1'b0;\n\t\t\t\t\t\t\t\tcompute_enable = 1'b0;\n\t\t\t\t\t\t\t\tInReady = 1'b1;\n\t\t\t\t\t\t\t\tsleep_flag = 1'b0;\n\t\t\t\t\t\t\t\tdata_count = 8'd0;\n\t\t\t\t\t\t\t\tif (Reset_n == 1'b0)\n\t\t\t\t\t\t\t\t\tnext_state = Reset;\n\t\t\t\t\t\t\t\telse if (Frame == 1'b1)\n\t\t\t\t\t\t\t\t\tnext_state = Compute;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tnext_state = Wait_input;\n\t\t\t\t\t\t\tend\n\t\t\n\t\t\tCompute:\tbegin\n\t\t\t\t\t\t\trj_wr_addr = 4'd0;\n\t\t\t\t\t\t\tcoeff_wr_addr = 9'd0;\n\t\t\t\t\t\t\trj_en = 1'b0;\n\t\t\t\t\t\t\tcoeff_en = 1'b0;\n\t\t\t\t\t\t\tClear = 1'b0;\n\t\t\t\t\t\t\tInReady = 1'b1;\n\t\t\t\t\t\t\tsleep_flag = 1'b0;\n\t\t\t\t\t\t\tif (Reset_n == 1'b0)\n\t\t\t\t\t\t\tbegin\n\t\t\t\t\t\t\t\tClear = 1'b1;\n\t\t\t\t\t\t\t\tnext_state = Reset;\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\telse if (input_rdy_flag == 1'b1 && taken == 1'b0)\n\t\t\t\t\t\t\tbegin\n\t\t\t\t\t\t\t\tif (zero_flag_L && zero_flag_R)\n\t\t\t\t\t\t\t\tbegin\n\t\t\t\t\t\t\t\t\tnext_state = Sleep;\n\t\t\t\t\t\t\t\t\tsleep_flag = 1'b1;\n\t\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tbegin\n\t\t\t\t\t\t\t\t\tdata_en = 1'b1;\n\t\t\t\t\t\t\t\t\tdata_wr_addr = data_count;\n\t\t\t\t\t\t\t\t\tdata_count = data_count + 1'b1;\n\t\t\t\t\t\t\t\t\treal_count = real_count + 1'b1;\n\t\t\t\t\t\t\t\t\tnext_state = Compute;\n\t\t\t\t\t\t\t\t\tcompute_enable = 1'b1;\n\t\t\t\t\t\t\t\t\ttaken = 1'b1;\n\t\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\telse if (input_rdy_flag == 1'b0)\n\t\t\t\t\t\t\tbegin\n\t\t\t\t\t\t\t\ttaken = 1'b0;\n\t\t\t\t\t\t\t\tdata_en = 1'b0;\n\t\t\t\t\t\t\t\tdata_wr_addr = data_wr_addr;\n\t\t\t\t\t\t\t\tcompute_enable = 1'b0;\n\t\t\t\t\t\t\t\tnext_state = Compute;\n\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\tbegin\n\t\t\t\t\t\t\t\tdata_en = 1'b0;\n\t\t\t\t\t\t\t\tdata_wr_addr = data_wr_addr;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tnext_state = Compute;\n\t\t\t\t\t\t\t\tcompute_enable = 1'b0;\n\t\t\t\t\t\t\tend\n\t\t\t\t\t\tend\n\t\t\t\n\t\t\tReset:\tbegin\n\t\t\t\t\t\t\trj_wr_addr = 4'd0;\n\t\t\t\t\t\t\tcoeff_wr_addr = 9'd0;\n\t\t\t\t\t\t\tdata_wr_addr = 8'd0;\n\t\t\t\t\t\t\trj_en = 1'b0;\n\t\t\t\t\t\t\tcoeff_en = 1'b0;\n\t\t\t\t\t\t\tdata_en = 1'b0;\n\t\t\t\t\t\t\tClear = 1'b1;\n\t\t\t\t\t\t\tcompute_enable = 1'b0;\n\t\t\t\t\t\t\tInReady = 1'b0;\n\t\t\t\t\t\t\tsleep_flag = 1'b0;\n\t\t\t\t\t\t\tdata_count = 8'd0;\n\t\t\t\t\t\t\ttaken = 1'b0;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (Reset_n == 1'b0)\n\t\t\t\t\t\t\t\tnext_state = Reset;\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tnext_state = Wait_input;\n\t\t\t\t\t\tend\n\t\t\t\n\t\t\tSleep:\tbegin\n\t\t\t\t\t\t\trj_wr_addr = 4'd0;\n\t\t\t\t\t\t\tcoeff_wr_addr = 9'd0;\n\t\t\t\t\t\t\tdata_wr_addr = data_wr_addr;\n\t\t\t\t\t\t\trj_en = 1'b0;\n\t\t\t\t\t\t\tcoeff_en = 1'b0;\n\t\t\t\t\t\t\tdata_en = 1'b0;\n\t\t\t\t\t\t\tClear = 1'b0;\n\t\t\t\t\t\t\tcompute_enable = 1'b0;\n\t\t\t\t\t\t\tInReady = 1'b1;\n\t\t\t\t\t\t\tsleep_flag = 1'b1;\n\t\t\t\t\t\t\tif (Reset_n == 1'b0)\n\t\t\t\t\t\t\t\tnext_state = Reset;\n\t\t\t\t\t\t\telse if (input_rdy_flag == 1'b1 && taken == 1'b0)\n\t\t\t\t\t\t\tbegin\n\t\t\t\t\t\t\t\tif (zero_flag_L && zero_flag_R)\n\t\t\t\t\t\t\t\t\tnext_state = Sleep;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tbegin\n\t\t\t\t\t\t\t\t\ttaken = 1'b1;\n\t\t\t\t\t\t\t\t\tdata_en = 1'b1;\n\t\t\t\t\t\t\t\t\tcompute_enable = 1'b1;\n\t\t\t\t\t\t\t\t\tsleep_flag = 1'b0;\n\t\t\t\t\t\t\t\t\tdata_wr_addr = data_count;\n\t\t\t\t\t\t\t\t\tdata_count = data_count + 1'b1;\n\t\t\t\t\t\t\t\t\treal_count = real_count + 1'b1;\n\t\t\t\t\t\t\t\t\tnext_state = Compute;\n\t\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tnext_state = Sleep;\n\t\t\t\t\t\tend\n\t\t\t\tdefault: next_state = 4'\n\t\t\t\t\t\n\t\tendcase\n\t\tend\n\tend",
        "\talways @(negedge Sclk or negedge Reset_n)\t\t\n\tbegin\n\t\tif (!Reset_n)\n\t\tbegin\n\t\t\tif (pr_state > Read_coeff)\n\t\t\t\tpr_state = Reset;\n\t\t\telse\n\t\t\t\tpr_state = next_state;\n\t\tend\n\t\telse\n\t\tpr_state = next_state;\n\tend"
    ]
}