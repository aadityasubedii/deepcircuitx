Line number: 
[801, 812]
Comment: 
This block is a conditional code generator based on a boolean USE_STORE_FORWARD parameter. It specifies the conditions for packet forwarding, detection of end and start of packets, packet errors, and a condition where the FIFO buffer is too small. It uses bitwise operator, logical AND (&) between status flags and raw signals for forming conditions. For packet forwarding, it checks packet modes along with conditions for waiting for packets or waiting for a threshold. FIFO buffer size check occurs by evaluating the full status of FIFO, out_ready signal and condition of packet waiting mode. The block identifies incoming packet's end or start by logical AND operation of in_valid, in_ready, and incoming end/start of packet flags. Packet error is detected when any bit in the in_error signal is high while in_valid and in_ready are high. Lastly, it marks the departure of start/end of an outgoing packet when out signals are ready and valid.