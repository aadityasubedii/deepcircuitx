    assign o_onup = ~idle & max & o_state;