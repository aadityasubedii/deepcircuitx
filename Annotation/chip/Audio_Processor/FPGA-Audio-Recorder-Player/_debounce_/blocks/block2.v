    assign o_ondn = ~idle & max & ~o_state;