{
    "line_num": [
        [
            56,
            76
        ],
        [
            54,
            54
        ],
        [
            52,
            52
        ],
        [
            50,
            50
        ],
        [
            49,
            49
        ],
        [
            47,
            47
        ],
        [
            46,
            46
        ],
        [
            45,
            45
        ],
        [
            44,
            44
        ],
        [
            43,
            43
        ],
        [
            33,
            41
        ]
    ],
    "blocks": [
        "always @(posedge clk) begin\n    if (reset) begin\n        shift_out <= 16'h0;\n        shift_in <= 16'h0;\n        shift_in <= 16'h0;\n    end else if (set_lrck || clr_lrck) begin\n        \n        if (channel_sel[set_lrck]) begin\n            shift_out <= audio_output;\n            shift_temp <= audio_output;\n            shift_in <= 16'h0;\n        \n        end else shift_out <= shift_temp;\n    end else if (set_bclk == 1) begin\n        \n        if (channel_sel[lrck])\n            shift_in <= {shift_in[14:0], AUD_ADCDAT};\n    end else if (clr_bclk == 1) begin\n        shift_out <= {shift_out[14:0], 1'b0};\n    end\nend",
        "wire clr_bclk = (bclk_divider == 2'b11 && !lrck_divider[6]);",
        "wire set_bclk = (bclk_divider == 2'b10 && !lrck_divider[6]);",
        "wire set_lrck = (lrck_divider == 8'hff);",
        "wire clr_lrck = (lrck_divider == 8'h7f);",
        "assign sample_req[0] = (lrck_divider == 8'h7e);",
        "assign sample_req[1] = (lrck_divider == 8'hfe);",
        "assign audio_input = shift_in * volume_control;",
        "assign sample_end[0] = (lrck_divider == 8'hc0);",
        "assign sample_end[1] = (lrck_divider == 8'h40);",
        "always @(posedge clk) begin\n    if (reset) begin\n        lrck_divider <= 8'hff;\n        bclk_divider <= 2'b11;\n    end else begin\n        lrck_divider <= lrck_divider + 1'b1;\n        bclk_divider <= bclk_divider + 1'b1;\n    end\nend"
    ]
}