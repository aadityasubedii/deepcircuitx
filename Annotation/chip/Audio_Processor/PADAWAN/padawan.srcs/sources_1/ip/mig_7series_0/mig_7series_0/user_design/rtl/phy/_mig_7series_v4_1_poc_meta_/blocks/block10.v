  always @(*) prev_ns = done_ns ? diff_r : prev_r;