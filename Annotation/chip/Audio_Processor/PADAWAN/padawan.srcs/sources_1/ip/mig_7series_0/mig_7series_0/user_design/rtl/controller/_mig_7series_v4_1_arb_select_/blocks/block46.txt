Line number: 
[437, 444]
Comment: 
This block of code is responsible for managing the address for write operations in a column buffer. It accomplishes this via a priority logic mechanism, where the address from the previously stored read request is given priority over new write requests. The block initiates with the $col_wr_data_buf_addr_r$ as default value for the next state address. Then, for each bank machine (as indicated by the loop), it checks the grant status for write operations. If the operation is granted, the next state address is updated with value extracted from an appropriate segment of the $req_data_buf_addr_r$ bus. The slicing size and starting point of this bus is determined by the value of i and DATA_BUF_ADDR_WIDTH, ensuring correctness of the address alignment.