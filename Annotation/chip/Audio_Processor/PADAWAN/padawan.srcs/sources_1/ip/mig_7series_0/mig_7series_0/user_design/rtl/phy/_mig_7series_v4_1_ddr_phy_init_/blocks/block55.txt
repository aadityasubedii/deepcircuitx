Line number: 
[3678, 3687]
Comment: 
This block of Verilog code controls a counter `wrcal_pat_cnt` used in a write calibration process. It responds to the positive edge of the `clk` signal. Initially, the counter is set to `2'b00` if the `phy_wrdata_en` signal is deasserted and the `first_wrcal_pat_r` signal is asserted. If the `extend_cal_pat` signal is high and the counter value is `2'b01`, the counter is reset to `2'b00`. When the counter value reaches `2'b11`, it rolls back to the value of `2'b10`. For any other case, the counter increments its value by 1. In every case, this update process is controlled by `#TCQ` to constrain the timing.