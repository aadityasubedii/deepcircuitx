Line number: 
[479, 487]
Comment: 
This block handles the functioning and updating of the order queue in the system. It reacts to any change in variables 'adv_order_q', 'order_cnt', 'order_q_r', 'rst', or 'set_order_q'. The core queue 'order_q_ns' is typically equal to 'order_q_r', but adjustments are made according to different conditions. When a reset flag arises, the queue is set to zero. If 'set_order_q' is true, the function subtracts 1 from 'order_cnt' if 'adv_order_q' is also true or else simply assigns 'order_cnt' to 'order_q_ns'. If both 'adv_order_q' and 'order_q_r' are true, 'order_q_ns' is reduced by one unit. Thus, this block provides dynamic handling of the order queue according to incoming signals.