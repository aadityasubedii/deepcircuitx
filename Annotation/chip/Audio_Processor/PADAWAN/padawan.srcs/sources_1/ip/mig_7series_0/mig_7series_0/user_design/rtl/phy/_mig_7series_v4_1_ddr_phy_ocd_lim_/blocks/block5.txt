Line number: 
[361, 371]
Comment: 
This block handles initial setup and dynamic updates for the Mixed-Mode Clock Manager (MMCM) in a FPGA system. When the system clock 'clk' has a rising edge, the 'mmcm_init_trail' and 'mmcm_init_lead' variables are reset to zero if the reset signal 'rst' is high. However, if the 'rst' signal is low and the 'poc2lim_detect_done' signal is high (indicating completion of certain procedure) along with low 'detect_done_r' (probably a prior detection flag), these two variables are set to certain values related to the 'stg3_tap_cnt' variable. Especially when 'stg3_tap_cnt' equals 'stg3_dec_val' and 'stg3_inc_val', the 'mmcm_init_trail' and 'mmcm_init_lead' are updated with the 'poc2lim_rise_align_taps_trail' and 'poc2lim_rise_align_taps_lead' respectively. Therefore, this block, through synchronizing with the system clock, effectively sets up and modifies certain variables to control the MMCM behaviour.