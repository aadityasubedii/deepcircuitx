Module-level comment: The main_controller module manages data flow for a processing task via a state machine, with states controlled by specific inputs. Inputs trigger several operations including writing data (rjwrite, coeffwrite, datawrite) and managing work subprocesses (rj_enable, coeff_enable, data_enable and work_enable). Internally, it uses signals, primarily count and state signals for differentiating tasks and states, respectively, and tk for ensuring proper state transitions within clock cycles. System status is communicated via output flags defining system readiness (InReady) and sleep state (sleep_flag). This module forms the core controller of a larger data processing system.