Line number: 
[861, 878]
Comment: 
This block of code is in charge of managing the packet transmission and error detection in a network system. Upon each positive edge of the clock or a high reset signal, it initializes the start of packet (sop) pointer and sets the error detection flag (error_in_pkt) to zero. If reset is not held high, then the block searches for a start of a packet (in_pkt_start), resetting sop pointer to the write pointer (wr_ptr). If end of packet marker has been detected (in_pkt_eop_arrive), any prior packet error flags are cleared. However, if there is a packet error (in_pkt_error) and a packet has begun transmission, the block sets the error detection flag, signalling an error in the packet.