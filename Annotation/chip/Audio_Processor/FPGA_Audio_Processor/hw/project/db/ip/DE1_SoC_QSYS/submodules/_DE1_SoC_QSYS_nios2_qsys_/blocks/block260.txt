Line number: 
[2600, 2626]
Comment: 
This Verilog block manages the control of trace image address (trc_im_addr) and wrapping signal (trc_wrap) based on specific control signals and clock signals. Upon a positive edge clock or a negative edge reset (jrst_n), the trace address and wrap signals are set to 0 if jrst_n is 0, an unconditional else if(!0) statement also sets them to zeroes. For a trace-control action 'take_action_tracectrl', if either jdo[4] or jdo[3] are asserted, corresponding trc_im_addr or trc_wrap are again set to 0. However, if trace-enable (trc_enb), on-chip trace (trc_on_chip) and tw_valid signals are all asserted, the image address increments by one and if all bits of the address are asserted then the trace wrap signal is also asserted.