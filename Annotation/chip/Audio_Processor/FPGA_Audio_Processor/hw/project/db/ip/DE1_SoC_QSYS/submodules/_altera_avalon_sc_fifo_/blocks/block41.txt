Line number: 
[388, 399]
Comment: 
This block of code is a clocked procedure for updating the status of memory usage. It's always sensitive to either the rising edge of the clock or the reset signal. On a positive reset signal, it resets the topmost memory to be unused. In absence of a reset signal, if a write or read operation occurs, it also resets the topmost memory status and, only when a write operation is signaled, it copies the second topmost memory usage status to the topmost memory status.